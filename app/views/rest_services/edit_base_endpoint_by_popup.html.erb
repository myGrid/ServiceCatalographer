<%

# ServiceCatalographer: app/views/rest_services/edit_base_endpoint_by_popup.html.erb
#
# Copyright (c) 2008, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<div class="redbox_contents" style="width:600px;">
	<div class="head">
		<%= link_to_close_redbox image_tag("close.gif"), :style => "float:right; margin-left:0.5em; vertical-align:middle;" -%>
    <span style="vertical-align:middle;">Edit Base URL</span>
	</div>
	
	<div class="body">
    <%= form_for :rest_service, :url => {:controller => "rest_services",
                                        :action => "update_base_endpoint", 
                                        :service_deployment_id => @service_deployment.id } do |f| %>
          <% if !@rest_service.nil? && !@rest_service.errors.nil? then %>
              <% @rest_service.errors.full_messages.each do |err| %>
                  <%= err %>
              <% end %>
          <% end %>

          <div>
			<div class="box_info_standout">
				<%= annotation_add_info_text("ignore this text", @service_deployment.service_version.service_versionified) -%>				
			</div>

      <p class="step_text">
        Enter the new base URL:
      </p>

			<div class="box_info_standout" style="font-size:90%;">
        <b>Note:</b> updating the base URL will <b>not</b> update the example endpoint annotations which were automatically added to endpoints.  These will have to be updated manually.  All your other annotations will not be affected.
      </div>

      <p class="high_linespaced form_field_section">
        <%= text_field_tag "new_endpoint", h(@service_deployment.endpoint), :style => "width: 99%;" %>
      </p>
      
      <!--SUBMIT-->
      <p style="margin-top: 1.5em; text-align: center;">
        <%= f.submit "Submit", :disable_with => "Submitting..." -%>
				<%= button_to_function "Close", "RedBox.close()" -%>
      </p>

    </div>
  
  <% end %>
  
 	</div>
</div>
