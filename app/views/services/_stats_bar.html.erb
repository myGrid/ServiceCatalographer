<%

# ServiceCatalographer: app/views/services/_stats_bar.html.erb
#
# Copyright (c) 2009, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<span class="stats_bar">
	
	<% 
		views_count = service.views_count
		tooltip_text = (views_count == 0 ? "This service hasn't been <b>viewed</b> yet" : "This service has been <b>viewed</b> #{pluralize(views_count, "time")}")
	%>
	<% content_tag(:span, :class => "each", :title => tooltip_title_attrib(tooltip_text)) do %>
		<% if views_count > 0 %>
			<%= image_tag(icon_filename_for(:views), :alt => "Views") -%>
			<span class="label"><%= views_count -%></span>
		<% else %>
			<%= image_tag(icon_filename_for(:views_none), :alt => "Views") -%>
			<span class="label">0</span>
		<% end %>
	<% end %>
	
	
	<% 
		favourites_count = service.favourites.count
		tooltip_text = (views_count == 0 ? "This service hasn't been <b>favourited</b> yet" : "This service has been <b>favourited</b> #{pluralize(favourites_count, "time")}")
	%>
	<% content_tag(:span, :class => "each", :title => tooltip_title_attrib(tooltip_text)) do %>
		<% if favourites_count > 0 %>
			<%= image_tag(icon_filename_for(:favourites), :alt => "Favourites") -%>
			<span class="label"><%= favourites_count -%></span>
		<% else %>
			<%= image_tag(icon_filename_for(:favourites_none), :alt => "Favourites") -%>
			<span class="label">0</span>
		<% end %>
	<% end %>

</span>
