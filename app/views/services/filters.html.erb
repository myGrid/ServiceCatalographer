<%

# ServiceCatalographer: app/views/services/filters.html.erb
#
# Copyright (c) 2011, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<!-- Service Types -->
<% service_types_filters = ServiceCatalographer::Filtering::Services.get_filters_for_service_types %>
<%= render :partial => "filtering/filter_options_generic", 
					 :locals => { :filters => service_types_filters,
												:filter_type => :t } -%>

<!-- Categories -->
<%= render :partial => "filtering/filter_options_categories", 
					 :locals => { :filter_type => :cat } -%>

<%# Only show tag filters if explicitly asked %>
<% if show_tag_filters? %>

	<!-- Tags -->												
	<% tags_filters = ServiceCatalographer::Filtering::Services.get_filters_for_all_tags %>
	<%= render :partial => "filtering/filter_options_generic", 
						 :locals => { :filters => tags_filters,
													:filter_type => :tag } -%>

	<!-- Tags (on Services) -->												
	<% operations_tags_filters = ServiceCatalographer::Filtering::Services.get_filters_for_service_tags %>
	<%= render :partial => "filtering/filter_options_generic", 
						 :locals => { :filters => operations_tags_filters,
													:filter_type => :tag_s } -%>
													
	<!-- Tags (on Operations) -->												
	<% operations_tags_filters = ServiceCatalographer::Filtering::Services.get_filters_for_soap_operation_tags %>
	<%= render :partial => "filtering/filter_options_generic", 
						 :locals => { :filters => operations_tags_filters,
													:filter_type => :tag_ops } -%>

	<!-- Tags (on Inputs) -->												
	<% inputs_tags_filters = ServiceCatalographer::Filtering::Services.get_filters_for_input_tags %>
	<%= render :partial => "filtering/filter_options_generic", 
						 :locals => { :filters => inputs_tags_filters,
													:filter_type => :tag_ins } -%>

	<!-- Tags (on Outputs) -->												
	<% outputs_tags_filters = ServiceCatalographer::Filtering::Services.get_filters_for_output_tags %>
	<%= render :partial => "filtering/filter_options_generic", 
						 :locals => { :filters => outputs_tags_filters,
													:filter_type => :tag_outs } -%>

<% end %>

<!-- Service Providers -->
<% service_provider_filters = ServiceCatalographer::Filtering::Services.get_filters_for_service_providers %>
<%= render :partial => "filtering/filter_options_generic", 
					 :locals => { :filters => service_provider_filters,
												:filter_type => :p } -%>

<!-- Submitters -->
<%= render :partial => "filtering/filter_options_submitters" -%>
									
<!-- Countries -->									
<% country_filters = ServiceCatalographer::Filtering::Services.get_filters_for_countries %>
<%= render :partial => "filtering/filter_options_generic", 
					 :locals => { :filters => country_filters,
												:filter_type => :c } -%>
		

