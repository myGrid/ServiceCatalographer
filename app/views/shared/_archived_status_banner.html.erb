<%

# ServiceCatalographer: app/views/shared/_archived_status_banner.html.erb
#
# Copyright (c) 2010, University of Manchester, The European Bioinformatics 
# Institute (EMBL-EBI) and the University of Southampton.
# See license.txt for details

%>

<%
  # Set defaults for optional parameters to this partial...
  status_text = "This item has been archived / deprecated. Avoid using it." unless local_assigns.has_key?(:status_text)
  item = nil unless local_assigns.has_key?(:item)
%>

<div class="archived_status_box">
	
  <p class="heading">
    <span style="vertical-align: baseline; margin-right: 0.6em;">
		  <%= image_tag(icon_filename_for(:archived)) -%>
		</span>
		<span style="vertical-align: baseline;">
		  Archived / Deprecated
		</span>
	</p>
	
	<p>
		<%= status_text -%>
	</p>
	
	<% if false %>
	<% if item and item.is_a? Service and ServiceCatalographer::Auth.allow_user_to_curate_thing?(current_user, item) %>
		<p>
	    <%= link_to(image_tag(icon_filename_for(:unarchive)) + content_tag(:span, ' Unarchive'), 
	                unarchive_service_path(item),
	                :method => :post,
	                :confirm => "This will remove the service's archived status and make it seem like an active service again. Are you sure you would like to do this? (You can still archive it later)",
	                :class => "button_slim") -%>
		</p>
	<% end %>
	<% end %>
	
</div>